{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/school/app/dashboard/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport {\r\n    LayoutDashboard,\r\n    Users, // Affairs\r\n    FileText, // Control/Exams\r\n    CalendarCheck, // Attendance\r\n    Briefcase, // Staff\r\n    Coins, // Fees\r\n    Settings,\r\n    LogOut,\r\n    Menu,\r\n    X,\r\n    Bell,\r\n    Search,\r\n    User,\r\n    ChevronDown,\r\n    Building2,\r\n    BookOpen\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport default function DashboardLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode;\r\n}) {\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n    const [notifications, setNotifications] = useState<any[]>([]);\r\n    const pathname = usePathname();\r\n\r\n    // -- Update for Realtime Notifications --\r\n    useEffect(() => {\r\n        // Mock fetch for now, replace with real data\r\n        const loadNotifs = async () => {\r\n            // const { data } = await supabase...\r\n        };\r\n        loadNotifs();\r\n    }, []);\r\n\r\n    const menuItems = [\r\n        {\r\n            category: 'الرئيسية',\r\n            items: [\r\n                { name: 'لوحة التحكم', href: '/dashboard', icon: LayoutDashboard },\r\n            ]\r\n        },\r\n        {\r\n            category: 'شئون الطلبة',\r\n            items: [\r\n                { name: 'جميع الطلاب', href: '/dashboard/students', icon: Users },\r\n                { name: 'تسجيل طالب جديد', href: '/dashboard/students/new', icon: BookOpen },\r\n                { name: 'قوائم الفصول', href: '/dashboard/classes', icon: Building2 },\r\n            ]\r\n        },\r\n        {\r\n            category: 'العمليات التعليمية',\r\n            items: [\r\n                { name: 'الغياب والحضور', href: '/dashboard/attendance', icon: CalendarCheck },\r\n                { name: 'الكنترول والنتائج', href: '/dashboard/control', icon: FileText }, // Control Room\r\n            ]\r\n        },\r\n        {\r\n            category: 'الإدارة',\r\n            items: [\r\n                { name: 'شئون العاملين', href: '/dashboard/staff', icon: Briefcase },\r\n                { name: 'المصروفات', href: '/dashboard/fees', icon: Coins },\r\n                { name: 'سجل النظام', href: '/dashboard/logs', icon: FileText },\r\n                { name: 'الإعدادات', href: '/dashboard/settings', icon: Settings },\r\n            ]\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div style={{ display: 'flex', minHeight: '100vh', background: 'var(--background)' }}>\r\n\r\n            {/* Sidebar */}\r\n            <motion.aside\r\n                initial={false}\r\n                animate={{ width: isSidebarOpen ? '280px' : '0px', opacity: isSidebarOpen ? 1 : 0 }}\r\n                style={{\r\n                    background: '#ffffff',\r\n                    borderLeft: '1px solid var(--border)',\r\n                    overflow: 'hidden',\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    position: isSidebarOpen ? 'relative' : 'absolute',\r\n                    zIndex: 50,\r\n                    boxShadow: '4px 0 24px rgba(0,0,0,0.02)'\r\n                }}\r\n            >\r\n                {/* Brand Logo */}\r\n                <div style={{ padding: '1.5rem', borderBottom: '1px solid var(--border)', display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                    <div style={{\r\n                        width: '40px', height: '40px',\r\n                        background: 'var(--primary)',\r\n                        borderRadius: '8px',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                        color: 'white', flexShrink: 0\r\n                    }}>\r\n                        <Building2 size={24} />\r\n                    </div>\r\n                    <div>\r\n                        <h1 style={{ fontSize: '1rem', fontWeight: '700', color: 'var(--text-main)', lineHeight: '1.2' }}>مدرسة المستشار</h1>\r\n                        <p style={{ fontSize: '0.8rem', color: 'var(--text-muted)' }}>أحمد عصمت</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Navigation */}\r\n                <nav style={{ flex: 1, padding: '1.5rem 1rem', overflowY: 'auto' }}>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\r\n                        {menuItems.map((group, idx) => (\r\n                            <div key={idx}>\r\n                                <h3 style={{\r\n                                    fontSize: '0.75rem',\r\n                                    fontWeight: '600',\r\n                                    color: 'var(--text-muted)',\r\n                                    marginBottom: '0.75rem',\r\n                                    paddingRight: '0.75rem'\r\n                                }}>\r\n                                    {group.category}\r\n                                </h3>\r\n                                <ul style={{ listStyle: 'none', display: 'flex', flexDirection: 'column', gap: '0.25rem' }}>\r\n                                    {group.items.map((item) => {\r\n                                        const isActive = pathname === item.href;\r\n                                        const Icon = item.icon;\r\n                                        return (\r\n                                            <li key={item.href}>\r\n                                                <Link href={item.href} style={{\r\n                                                    display: 'flex',\r\n                                                    alignItems: 'center',\r\n                                                    gap: '0.75rem',\r\n                                                    padding: '0.6rem 0.75rem',\r\n                                                    borderRadius: '0.5rem',\r\n                                                    color: isActive ? 'var(--brand)' : 'var(--text-secondary)',\r\n                                                    background: isActive ? 'rgba(37, 99, 235, 0.08)' : 'transparent',\r\n                                                    fontWeight: isActive ? '600' : '500',\r\n                                                    borderRight: isActive ? '3px solid var(--brand)' : '3px solid transparent',\r\n                                                    transition: 'all 0.2s',\r\n                                                    fontSize: '0.95rem'\r\n                                                }}>\r\n                                                    <Icon size={18} strokeWidth={isActive ? 2.5 : 2} />\r\n                                                    <span>{item.name}</span>\r\n                                                </Link>\r\n                                            </li>\r\n                                        );\r\n                                    })}\r\n                                </ul>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </nav>\r\n\r\n                {/* Footer User Profile */}\r\n                <div style={{ padding: '1rem', borderTop: '1px solid var(--border)', background: '#f8fafc' }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '1rem' }}>\r\n                        <div style={{ width: '36px', height: '36px', background: '#cbd5e1', borderRadius: '50%', flexShrink: 0 }} />\r\n                        <div style={{ overflow: 'hidden' }}>\r\n                            <p style={{ fontSize: '0.9rem', fontWeight: '600', whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden' }}>مسؤول النظام</p>\r\n                            <p style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>Admin</p>\r\n                        </div>\r\n                    </div>\r\n                    <button style={{\r\n                        width: '100%',\r\n                        padding: '0.5rem',\r\n                        display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem',\r\n                        color: 'var(--danger)',\r\n                        background: '#fee2e2',\r\n                        borderRadius: '0.5rem',\r\n                        fontSize: '0.9rem',\r\n                        fontWeight: '600'\r\n                    }}>\r\n                        <LogOut size={16} />\r\n                        <span>تسجيل الخروج</span>\r\n                    </button>\r\n                </div>\r\n            </motion.aside>\r\n\r\n            {/* Main Content Area */}\r\n            <main style={{ flex: 1, display: 'flex', flexDirection: 'column', height: '100vh', overflow: 'hidden' }}>\r\n                {/* Topbar */}\r\n                <header style={{\r\n                    height: '64px',\r\n                    background: 'white',\r\n                    borderBottom: '1px solid var(--border)',\r\n                    padding: '0 1.5rem',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    flexShrink: 0\r\n                }}>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                        <button onClick={() => setIsSidebarOpen(!isSidebarOpen)} className=\"btn-icon\">\r\n                            {isSidebarOpen ? <X size={20} /> : <Menu size={20} />}\r\n                        </button>\r\n                        <h2 style={{ fontSize: '1.1rem', fontWeight: '700' }}>لوحة التحكم</h2>\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                        <div style={{ position: 'relative' }}>\r\n                            <Search size={18} style={{ position: 'absolute', right: '10px', top: '50%', transform: 'translateY(-50%)', color: '#94a3b8' }} />\r\n                            <input\r\n                                placeholder=\"بحث سريع...\"\r\n                                style={{\r\n                                    padding: '0.5rem 2.5rem 0.5rem 1rem',\r\n                                    border: '1px solid var(--border)',\r\n                                    borderRadius: '2rem',\r\n                                    fontSize: '0.9rem',\r\n                                    width: '240px',\r\n                                    background: '#f8fafc'\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <button style={{ position: 'relative', padding: '0.5rem' }}>\r\n                            <Bell size={20} color=\"var(--text-secondary)\" />\r\n                            {notifications.length > 0 && <span style={{ position: 'absolute', top: '4px', right: '4px', width: '8px', height: '8px', background: 'red', borderRadius: '50%' }} />}\r\n                        </button>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Content Scroller */}\r\n                <div style={{ flex: 1, overflowY: 'auto', padding: '2rem' }}>\r\n                    {children}\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}