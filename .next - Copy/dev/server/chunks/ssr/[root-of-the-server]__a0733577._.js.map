{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///F:/school/lib/export.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-any */\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as XLSX from 'xlsx';\r\n\r\nexport const exportToPDF = (data: any[], filename: string) => {\r\n    const doc = new jsPDF('p', 'pt', 'a4') as any;\r\n\r\n    // Need a font that supports Arabic for PDF. \r\n    // For this demo, we'll use a placeholder or standard latin if Arabic is tricky without embedding font.\r\n    // In a production app, we would embed an Arabic-supporting font.\r\n\r\n    const headers = [['الاسم', 'الرقم القومي', 'الصف', 'الحالة']];\r\n    const rows = data.map((item: any) => [item.full_name, item.national_id, item.grade, item.status]);\r\n\r\n    doc.text('قائمة الطلاب - مدرسة المستشار أحمد عصمت', 40, 40);\r\n    doc.autoTable({\r\n        head: headers,\r\n        body: rows,\r\n        startY: 60,\r\n        styles: { font: 'helvetica', halign: 'right' }\r\n    });\r\n\r\n    doc.save(`${filename}.pdf`);\r\n};\r\n\r\nexport const exportToExcel = (data: any[], filename: string) => {\r\n    const worksheet = XLSX.utils.json_to_sheet(data);\r\n    const workbook = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'Students');\r\n    XLSX.writeFile(workbook, `${filename}.xlsx`);\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA,4CAA4C,GAC5C;AACA;AACA;;;;AAEO,MAAM,cAAc,CAAC,MAAa;IACrC,MAAM,MAAM,IAAI,gKAAK,CAAC,KAAK,MAAM;IAEjC,6CAA6C;IAC7C,uGAAuG;IACvG,iEAAiE;IAEjE,MAAM,UAAU;QAAC;YAAC;YAAS;YAAgB;YAAQ;SAAS;KAAC;IAC7D,MAAM,OAAO,KAAK,GAAG,CAAC,CAAC,OAAc;YAAC,KAAK,SAAS;YAAE,KAAK,WAAW;YAAE,KAAK,KAAK;YAAE,KAAK,MAAM;SAAC;IAEhG,IAAI,IAAI,CAAC,2CAA2C,IAAI;IACxD,IAAI,SAAS,CAAC;QACV,MAAM;QACN,MAAM;QACN,QAAQ;QACR,QAAQ;YAAE,MAAM;YAAa,QAAQ;QAAQ;IACjD;IAEA,IAAI,IAAI,CAAC,GAAG,SAAS,IAAI,CAAC;AAC9B;AAEO,MAAM,gBAAgB,CAAC,MAAa;IACvC,MAAM,YAAY,sIAAU,CAAC,aAAa,CAAC;IAC3C,MAAM,WAAW,sIAAU,CAAC,QAAQ;IACpC,sIAAU,CAAC,iBAAiB,CAAC,UAAU,WAAW;IAClD,0IAAc,CAAC,UAAU,GAAG,SAAS,KAAK,CAAC;AAC/C"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///F:/school/app/dashboard/students/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, Suspense } from 'react';\r\nimport {\r\n    Plus,\r\n    Search,\r\n    Download,\r\n    Trash2,\r\n    Loader2,\r\n    RefreshCcw,\r\n    Edit,\r\n    FileSpreadsheet\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { exportToExcel } from '@/lib/export';\r\nimport { useSearchParams } from 'next/navigation';\r\n\r\ntype Student = {\r\n    id: string;\r\n    full_name: string;\r\n    national_id: string;\r\n    birth_date: string;\r\n    gender: 'male' | 'female';\r\n    religion: 'muslim' | 'christian';\r\n    grade: string;\r\n    class_group: string;\r\n    phone: string;\r\n    parent_job: string;\r\n    address: string;\r\n    status: 'active' | 'transferred' | 'expelled' | 'graduated';\r\n    created_at: string;\r\n};\r\n\r\nfunction StudentsContent() {\r\n    const [students, setStudents] = useState<Student[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [editingId, setEditingId] = useState<string | null>(null);\r\n    const searchParams = useSearchParams();\r\n\r\n    // Initial Form State\r\n    const initialFormState = {\r\n        full_name: '',\r\n        national_id: '',\r\n        birth_date: '',\r\n        gender: 'male',\r\n        religion: 'muslim',\r\n        grade: 'الصف الأول الابتدائي',\r\n        class_group: '',\r\n        phone: '',\r\n        parent_job: '',\r\n        address: '',\r\n        status: 'active'\r\n    };\r\n\r\n    const [formData, setFormData] = useState(initialFormState);\r\n\r\n    useEffect(() => {\r\n        const querySearch = searchParams.get('search');\r\n        if (querySearch) {\r\n            setSearchTerm(querySearch);\r\n        }\r\n        fetchStudents();\r\n    }, [searchParams]);\r\n\r\n    const fetchStudents = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('students')\r\n                .select('*')\r\n                .order('created_at', { ascending: false });\r\n\r\n            if (error) throw error;\r\n            setStudents(data as unknown as Student[] || []);\r\n        } catch (error) {\r\n            console.error('Error fetching students:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const isValidEgyptianNationalId = (id: string): boolean => {\r\n        // التحقق من أن الرقم 14 رقم\r\n        if (!/^\\d{14}$/.test(id)) return false;\r\n        \r\n        const century = parseInt(id[0]);\r\n        const year = parseInt(id.substring(1, 3));\r\n        const month = parseInt(id.substring(3, 5));\r\n        const day = parseInt(id.substring(5, 7));\r\n        \r\n        // التحقق من أن القرن صحيح (2 أو 3)\r\n        if (century !== 2 && century !== 3) return false;\r\n        \r\n        // التحقق من أن الشهر بين 1 و 12\r\n        if (month < 1 || month > 12) return false;\r\n        \r\n        // التحقق من أن اليوم بين 1 و 31\r\n        if (day < 1 || day > 31) return false;\r\n        \r\n        return true;\r\n    };\r\n\r\n    const isValidEgyptianPhone = (phone: string): boolean => {\r\n        // إزالة المسافات والشرطات\r\n        const cleanPhone = phone.replace(/[\\s\\-]/g, '');\r\n        \r\n        // صيغة الهاتف المصري: 01xxxxxxxxx (10 أرقام)\r\n        // أو +201xxxxxxxxx (يبدأ بـ +20)\r\n        const egyptianPhoneRegex = /^(01|(\\+201))\\d{8,9}$/;\r\n        \r\n        return egyptianPhoneRegex.test(cleanPhone);\r\n    };\r\n\r\n    const handleNationalIdChange = (value: string) => {\r\n        const newData = { ...formData, national_id: value };\r\n\r\n        if (isValidEgyptianNationalId(value)) {\r\n            const century = parseInt(value[0]);\r\n            const year = parseInt(value.substring(1, 3));\r\n            const month = value.substring(3, 5);\r\n            const day = value.substring(5, 7);\r\n            const genderDigit = parseInt(value.substring(12, 13));\r\n\r\n            const fullYear = (century === 2 ? 1900 : 2000) + year;\r\n            newData.birth_date = `${fullYear}-${month}-${day}`;\r\n            newData.gender = genderDigit % 2 !== 0 ? 'male' : 'female';\r\n        }\r\n        setFormData(newData);\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!isValidEgyptianNationalId(formData.national_id)) {\r\n            alert('الرقم القومي غير صحيح. تأكد من أنه رقم مصري صحيح (14 رقم)');\r\n            return;\r\n        }\r\n\r\n        if (formData.phone && !isValidEgyptianPhone(formData.phone)) {\r\n            alert('رقم الهاتف غير صحيح. يجب أن يكون رقم مصري (01xxxxxxxxx أو +201xxxxxxxxx)');\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            if (editingId) {\r\n                const { error } = await supabase\r\n                    .from('students')\r\n                    .update(formData)\r\n                    .eq('id', editingId);\r\n                if (error) throw error;\r\n            } else {\r\n                const { error } = await supabase\r\n                    .from('students')\r\n                    .insert([formData]);\r\n                if (error) throw error;\r\n            }\r\n\r\n            await supabase.from('logs').insert([{\r\n                action: editingId ? 'تعديل طالب' : 'إضافة طالب',\r\n                details: `الطالب: ${formData.full_name}`,\r\n                user_id: 'admin'\r\n            }]);\r\n\r\n            setIsModalOpen(false);\r\n            setEditingId(null);\r\n            setFormData(initialFormState as any);\r\n            fetchStudents();\r\n        } catch (error: any) {\r\n            alert('حدث خطأ: ' + error.message);\r\n        } finally {\r\n            setIsSubmitting(false);\r\n            // Close modal here to ensure UI feedback\r\n            setIsModalOpen(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string) => {\r\n        if (!confirm('هل أنت متأكد من الحذف النهائي؟')) return;\r\n\r\n        const { error } = await supabase.from('students').delete().eq('id', id);\r\n        if (!error) {\r\n            setStudents(prev => prev.filter(s => s.id !== id));\r\n            await supabase.from('logs').insert([{\r\n                action: 'حذف طالب',\r\n                details: `تم حذف الطالب برقم مرجعي ${id}`,\r\n                user_id: 'admin'\r\n            }]);\r\n        }\r\n    };\r\n\r\n    const filteredStudents = students.filter(student => {\r\n        if (!searchTerm.trim()) return true;\r\n        \r\n        // البحث في الرقم القومي\r\n        if (student.national_id.includes(searchTerm)) return true;\r\n        \r\n        // تقسيم الاسم الرباعي إلى أجزاء والبحث في كل جزء\r\n        const nameParts = student.full_name.split(/\\s+/);\r\n        return nameParts.some(part => \r\n            part.toLowerCase().includes(searchTerm.toLowerCase())\r\n        );\r\n    });\r\n\r\n    const statusMap: Record<string, { label: string, clazz: string }> = {\r\n        'active': { label: 'منتظم', clazz: 'status-success' },\r\n        'transferred': { label: 'محول', clazz: 'status-warning' },\r\n        'expelled': { label: 'مفصول', clazz: 'status-error' },\r\n        'graduated': { label: 'خريج', clazz: 'status-info' }\r\n    };\r\n\r\n    return (\r\n        <div style={{ maxWidth: '1400px', margin: '0 auto' }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\r\n                <div>\r\n                    <h1 style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>سجلات الطلاب</h1>\r\n                </div>\r\n                <button\r\n                    onClick={() => { setEditingId(null); setFormData(initialFormState as any); setIsModalOpen(true); }}\r\n                    className=\"btn btn-primary\"\r\n                >\r\n                    <Plus size={18} />\r\n                    <span>تسجيل طالب جديد</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"card\" style={{ marginBottom: '1.5rem', padding: '1rem' }}>\r\n                <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\r\n                    <div style={{ position: 'relative', flex: 1, maxWidth: '400px' }}>\r\n                        <Search size={18} style={{ position: 'absolute', right: '12px', top: '50%', transform: 'translateY(-50%)', color: 'var(--text-muted)' }} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"بحث بالاسم أو الرقم القومي...\"\r\n                            className=\"input-field\"\r\n                            style={{ paddingRight: '40px' }}\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <button onClick={fetchStudents} className=\"btn btn-outline\"><RefreshCcw size={18} /></button>\r\n                    <button onClick={() => exportToExcel(students, 'students_db')} className=\"btn btn-outline\">\r\n                        <FileSpreadsheet size={18} />\r\n                        <span>Excel</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"table-wrapper\">\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>الاسم الكامل</th>\r\n                            <th>الرقم القومي</th>\r\n                            <th>الصف / الفصل</th>\r\n                            <th>تاريخ الميلاد</th>\r\n                            <th>النوع</th>\r\n                            <th>الحالة</th>\r\n                            <th>الإجراءات</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {loading ? (\r\n                            <tr><td colSpan={7} style={{ padding: '3rem', textAlign: 'center' }}><Loader2 className=\"animate-spin\" /></td></tr>\r\n                        ) : filteredStudents.length === 0 ? (\r\n                            <tr><td colSpan={7} style={{ textAlign: 'center', padding: '2rem' }} className=\"text-muted\">لا توجد نتائج</td></tr>\r\n                        ) : (\r\n                            filteredStudents.map((student) => (\r\n                                <tr key={student.id}>\r\n                                    <td>\r\n                                        <div style={{ fontWeight: 600 }}>{student.full_name}</div>\r\n                                        <div className=\"text-xs text-muted\">{student.religion === 'muslim' ? 'مسلم' : 'مسيحي'}</div>\r\n                                    </td>\r\n                                    <td style={{ fontFamily: 'monospace' }}>{student.national_id}</td>\r\n                                    <td>{student.grade} <span className=\"text-muted\">({student.class_group})</span></td>\r\n                                    <td>{student.birth_date}</td>\r\n                                    <td>{student.gender === 'male' ? 'ذكر' : 'أنثى'}</td>\r\n                                    <td><span className={`status-badge ${statusMap[student.status]?.clazz}`}>{statusMap[student.status]?.label}</span></td>\r\n                                    <td>\r\n                                        <div style={{ display: 'flex', gap: '0.5rem' }}>\r\n                                            <button onClick={() => { setEditingId(student.id); setFormData(student as any); setIsModalOpen(true); }} className=\"btn btn-outline\" style={{ padding: '0.4rem' }}><Edit size={16} /></button>\r\n                                            <button onClick={() => handleDelete(student.id)} className=\"btn btn-outline\" style={{ padding: '0.4rem', color: 'var(--danger)' }}><Trash2 size={16} /></button>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <AnimatePresence>\r\n                {isModalOpen && (\r\n                    <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: 'rgba(0,0,0,0.6)', zIndex: 100, display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem' }}>\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.95 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            exit={{ opacity: 0, scale: 0.95 }}\r\n                            className=\"card\"\r\n                            style={{ width: '100%', maxWidth: '800px', maxHeight: '90vh', overflowY: 'auto' }}\r\n                        >\r\n                            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '1.5rem', borderBottom: '1px solid var(--border)', paddingBottom: '1rem' }}>\r\n                                <h2 style={{ fontSize: '1.25rem', fontWeight: 'bold' }}>{editingId ? 'تعديل بيانات' : 'إضافة طالب جديد'}</h2>\r\n                                <button onClick={() => setIsModalOpen(false)}><Plus style={{ transform: 'rotate(45deg)' }} /></button>\r\n                            </div>\r\n\r\n                            <form onSubmit={handleSubmit} style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '1.5rem' }}>\r\n                                <div style={{ gridColumn: 'span 2' }}><h3 style={{ color: 'var(--brand)', fontWeight: 'bold' }}>بيانات الطالب</h3></div>\r\n\r\n                                <div style={{ gridColumn: 'span 2' }}>\r\n                                    <label className=\"label\">الرقم القومي (14 رقم)*</label>\r\n                                    <input required maxLength={14} value={formData.national_id} onChange={(e) => handleNationalIdChange(e.target.value)} className=\"input-field\" placeholder=\"الرقم الموجود في شهادة الميلاد\" style={{ fontFamily: 'monospace' }} />\r\n                                </div>\r\n                                <div style={{ gridColumn: 'span 2' }}>\r\n                                    <label className=\"label\">الاسم رباعي*</label>\r\n                                    <input required value={formData.full_name} onChange={(e) => setFormData({ ...formData, full_name: e.target.value })} className=\"input-field\" />\r\n                                </div>\r\n\r\n                                <div><label className=\"label\">تاريخ الميلاد</label><input type=\"date\" required value={formData.birth_date} onChange={(e) => setFormData({ ...formData, birth_date: e.target.value })} className=\"input-field\" /></div>\r\n                                <div>\r\n                                    <label className=\"label\">النوع</label>\r\n                                    <select value={formData.gender} onChange={(e) => setFormData({ ...formData, gender: e.target.value as any })} className=\"input-field\" >\r\n                                        <option value=\"male\">ذكر</option>\r\n                                        <option value=\"female\">أنثى</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"label\">الديانة</label>\r\n                                    <select value={formData.religion} onChange={(e) => setFormData({ ...formData, religion: e.target.value as any })} className=\"input-field\">\r\n                                        <option value=\"muslim\">مسلم</option>\r\n                                        <option value=\"christian\">مسيحي</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div style={{ gridColumn: 'span 2' }}><h3 style={{ color: 'var(--brand)', fontWeight: 'bold', marginTop: '1rem' }}>بيانات الدراسة</h3></div>\r\n\r\n                                <div>\r\n                                    <label className=\"label\">المرحلة / الصف</label>\r\n                                    <select value={formData.grade} onChange={(e) => setFormData({ ...formData, grade: e.target.value })} className=\"input-field\">\r\n                                        <optgroup label=\"المرحلة الابتدائية\">\r\n                                            <option value=\"الصف الأول الابتدائي\">الصف الأول الابتدائي</option>\r\n                                            <option value=\"الصف الثاني الابتدائي\">الصف الثاني الابتدائي</option>\r\n                                            <option value=\"الصف الثالث الابتدائي\">الصف الثالث الابتدائي</option>\r\n                                            <option value=\"الصف الرابع الابتدائي\">الصف الرابع الابتدائي</option>\r\n                                            <option value=\"الصف الخامس الابتدائي\">الصف الخامس الابتدائي</option>\r\n                                            <option value=\"الصف السادس الابتدائي\">الصف السادس الابتدائي</option>\r\n                                        </optgroup>\r\n                                        <optgroup label=\"المرحلة الإعدادية\">\r\n                                            <option value=\"الصف الأول الإعدادي\">الصف الأول الإعدادي</option>\r\n                                            <option value=\"الصف الثاني الإعدادي\">الصف الثاني الإعدادي</option>\r\n                                            <option value=\"الصف الثالث الإعدادي\">الصف الثالث الإعدادي</option>\r\n                                        </optgroup>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"label\">الفصل</label>\r\n                                    <input value={formData.class_group} onChange={(e) => setFormData({ ...formData, class_group: e.target.value })} className=\"input-field\" placeholder=\"1/1\" />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"label\">حالة القيد</label>\r\n                                    <select value={formData.status} onChange={(e) => setFormData({ ...formData, status: e.target.value as any })} className=\"input-field\">\r\n                                        <option value=\"active\">منتظم</option>\r\n                                        <option value=\"transferred\">محول</option>\r\n                                        <option value=\"expelled\">مفصول</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div style={{ gridColumn: 'span 2' }}><h3 style={{ color: 'var(--brand)', fontWeight: 'bold', marginTop: '1rem' }}>ولي الأمر</h3></div>\r\n\r\n                                <div style={{ gridColumn: 'span 2' }}><label className=\"label\">رقم الهاتف</label><input value={formData.phone} onChange={(e) => setFormData({ ...formData, phone: e.target.value })} className=\"input-field\" /></div>\r\n\r\n                                <div style={{ gridColumn: 'span 2', display: 'flex', gap: '1rem', marginTop: '1.5rem', borderTop: '1px solid var(--border)', paddingTop: '1rem' }}>\r\n                                    <button disabled={isSubmitting} type=\"submit\" className=\"btn btn-primary\" style={{ flex: 1 }}>{isSubmitting ? 'جاري الحفظ...' : 'حفظ البيانات'}</button>\r\n                                    <button type=\"button\" onClick={() => setIsModalOpen(false)} className=\"btn btn-outline\" style={{ flex: 1 }}>إلغاء</button>\r\n                                </div>\r\n                            </form>\r\n                        </motion.div>\r\n                    </div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function StudentsPage() {\r\n    return (\r\n        <Suspense fallback={<div style={{ display: 'flex', justifyContent: 'center', padding: '3rem' }}><Loader2 className=\"animate-spin\" /></div>}>\r\n            <StudentsContent />\r\n        </Suspense>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}